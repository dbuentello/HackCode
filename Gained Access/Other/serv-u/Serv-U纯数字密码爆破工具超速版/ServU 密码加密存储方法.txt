现在入侵获得一个WebShell是一件非常容易的事情，尤其是WHOIS技术公开后获得WebShell就更加简单了。有些时候对方的服务器设定得不是很变态，我们可以同过利用直接输入硬盘路径，从而获得访问要访问的文件。如蓝屏ASP木马，我们无论点哪个盘符，都没有显示任何文件的时候，我们在浏览框中直接输入如:C:\Progra~1，往往能够查看里面的目录文件，虽然我们没有办法修改，但是我们有权限查看，而我们查看得最多也就是Serv-U这个文件夹下的ServUDaemon.ini文件，这样就能够知道其它网站的物理路径，有时直接在ASP木马输入浏览处输入物理路径就可以访问到要访问的文件夹。原来这样的技术很流行，不过现在这种入侵方法泛滥后就不太行了，这时我们是否就放弃了呢？当然不会，我们还可以拿他加密后的文件来破解，也许运气不错能够几下就把密码给还原了，又或者你和要黑的这个站有深仇大恨，无论如何都要黑他，那就开机器不停的跑他的密码吧，总有一天你能够跑出来的。 
　　废话说了一堆，下面进入正题，网上目前个人发现和搜集的专门破Serv-U密码的软件有3个，一个是脚本写的，运行速度太慢，这里就不拿出来来了，另外两个各有所长，一个是风蓝写的，一个是阿呆的。两者的区别在于前者靠的是大量的字典文件，一个个的实验，直到找到符合的密码（要是你平时有收集字典的喜好，那么现在就是使用的最好时候）。后者同样也是爆破，原理是穷举。 

　　这里我们首先看看风蓝的，把弄到的密码填写进去，一本好的字典是最关键的地方了。在根据自己机器的配置选好线层，要是字典中有对应的密码的话，不久就可以得到了。我以kuD8B707746AEFF0B2E5AA674DC43EAF07来测试效果，在软件的右下显示了还原后的密码文件123456，简单易用，唯一的不足就是需要有大量的字典。

　　下面我们来看下MD5CRACK，它是目前网上最快的MD5破解软件，关于他的MD5破解我们这里就不多说了，主要说下它的最新功能Serv-U的密文的破解。以下是网上牛人写的一些原理，在破解之前先弄懂了原理才能是我们追求的方向。Serv-U 的加密算法： 

第一步，随机产生两个字符（最好是小写字母）； 
　　第二步，将第一步产生的字符串加上你需要的密码一起MD5； 
　　第三步，将第一步的两个字符加上第二步产生的MD5编码的大写加在一起就行了。 

　　举例来说，比如你需要的密码是：PASSWORD，随机生成两个字母为：aa，加一起就是aaPASSWORD。OK，将aaPASSWORD做个MD5 处理，得到：B1560E2A738B10F02E930D6CBDDB1626，然后最后储存到ServUDaemon.ini里面就是aaB1560E2A738B10F02E930D6CBDDB1626了。步骤大体如下：删除加密文件的前两位，接着配置模板字典插件，选择好线层就可以了。关于插件的配置作者也做了非常好的说明，这里就不唠叨了。下面我们同样以kuD8B707746AEFF0B2E5AA674DC43EAF07为例来说明：

　　第一步：将去掉前两个字符 ku，留下D8B707746AEFF0B2E5AA674DC43EAF07，把加密后的密码输入到单个密文框内，软件提示密码有效； 
　　第二步：选择软件下方的使用插件，并在列表中选择模板字典插件，选择设置。 
　　第三步：最关键的一步，条件设定的好坏直接关系到破解的成功与否和时间等问题。由于上面是自己设定的密码，所以知道密码原始位数为6位，而且是纯数字，所以我们在插件配置这里就填入：[k][u]6{0-9}――这里的意思是以0-9的数字为字典，穷举所有它们的六位排列组合来认证是否存在正确的密码值，设定好50线程后开始破解密码。点开始，不到30秒就出来了结果。

　　我们再来破下字母型的密码，这里就以5位字母为密码，密文为za83C06C9AD418439EF5FEF43C85ED40F2，按照前面的步骤，取掉前两位，字典模式为[z][a]5{a-z}，开50线程。花了1分4秒就破解出来了。

　　要是你的机器够强完全可以开100线程甚至更多。至于其它字典的配置，如字母加数字，字母加字符等，基本都是一样的原理，这里就不实验了。

　　怎么样？看完是不是有些收获呢？虽然爆破被人看不起，但是有时爆破还是有不小的作用的。赶快找回你以前的WebShell，也许以前拿不下的站现在就有机会拿下了！

ServU 密码加密存储方法
by:风蓝

首先随机生成2位字符(从a-z小写字符).

再将用户原始密码与这2位随机字符合并成为新的密码字符.

如: 用户原始密码为a,随机生成字符为dx,则合并后新的密码字符串为:"dxa"

再使用新密码字符串进行MD5 Hash运算.

dxa=F2319AE3B312103BB3259CA8242DD16C

然后再存储到ini文件,存储方法为2位随机字符加上新密码字符的MD5 Hash值.

如下:

[USER=a|1]
Password=dxF2319AE3B312103BB3259CA8242DD16C


ServU 密码破解方法:

除去前2位随机字符获得F2319AE3B312103BB3259CA8242DD16C.

把该MD5 Hash值存入暴力破解工具,产生字典时注意前2位密码必定是dx.

F2319AE3B312103BB3259CA8242DD16C=dxa

